<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mêchoc</title>
    <link rel="icon" href="../images/nama choco/2.jpg" type="image/x-icon">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <header>
        <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-menu">
            <div class="container-fluid">
                <div class="row nav_container">
                    <div class="col-sm-2 d-block d-sm-none">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    <div class="col-lg-7 col-sm-12 col-xs-12">
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link menu-item" href="../html/index.html">Mêchoc</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link menu-item" href="./mechoc.html">Menu</a>
                                    <ul class="dropdown-menu sub-menu">
                                        <li><a class="dropdown-item" href="#" id="nama-chocolate">Socola thanh  <span>&#9660;</span></a></a>
                                        </li>
                                        <li><a class="dropdown-item" href="#" id="cacao-products">Bột Cacao</a></li>
                                        <li><a class="dropdown-item" href="#" id="cookies">Set event</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link menu-item" href="../html/gioithieu.html">CÂU CHUYỆN THƯƠNG HIỆU</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-5 col-sm-12 menu_right">
                        <ul class="navbar-nav" style="float: right;">
                            <li class="nav-item dropdown">
                                <a class="nav-link menu-item" href="./dangkithanhvien.html">TÀI KHOẢN</a>
                                <ul class="dropdown-menu sub-menu">
                                    <li><a class="dropdown-item" href="../html/dangkithanhvien.html">Đăng Ký</a></li>
                                    <li><a class="dropdown-item" href="../html/dangnhap.html">Đăng Nhập</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown item_menu_right">
                                <a class="nav-link menu-item" href="./giohang.html"><i class="material-icons">shopping_cart</i></a>
                            </li>
                            <li class="nav-item dropdown item_menu_right">
                                <form action="./timkiem.html" id="Search">
                                    <input type="search" placeholder="Tìm kiếm">
                                </form>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="container container_slider" style="margin-top: 5%;">
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="row">
                        <div class="col-12">
                            <a href="../html/chitietchitiet.html"><img class="d-block w-100 h-500 slider_image" src="../images/nama choco/2.jpg" alt="First slide"></a>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-12">
                            <a href="../html/chitietchitiet.html"><img class="d-block w-100 h-500 slider_image" src="../images/nama choco/2.jpg" alt="Second slide"></a>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-12">
                            <a href="../html/chitietchitiet.html"><img class="d-block w-100 h-20 slider_image" src="../images/slide/img3.jpg" alt="Third slide"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid" style="margin-top: 4%; padding-top: 10px;">
        <section style="clear: both;">
            <div class="col-12 banner_category">
                <div class="text-banner">
                    Mêchoc
                </div>
            </div>
            <div class="banner-cf-item">
                <div class="row" id="product-list">
                    <!-- Sản phẩm sẽ được tải vào đây -->
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="row">
            <div class="col-lg-4 col-sm-12 footer_element">
                <p style="margin-left: 50px; width: 500px;">
                    CÔNG TY CỔ PHẦN THƯƠNG MẠI DỊCH VỤ SẢN XUẤT MÊCHOC
                    <br>233A, Phan Văn Trị, Phường 11, Quận Bình Thạnh, Thành phố Hồ Chí Minh, Việt Nam
                    <br> (+84) 799654238
                    <br> MeChhoccompany@gmail.com
                    <br> wwww.Mechoccompany.com
                </p>
            </div>
            <div class="col-lg-4 col-sm-12 footer_element">
                <h5 style="margin-left: -35px; text-align: center;">
                    LIÊN KẾT
                </h5>
                <ul style="margin-left: -80px; text-align: center;">
                    <li><a href="./gioithieu.html">Câu chuyện thương hiệu</a></li>
                    <li><a href="./mechoc.html">Menu</a></li>
                    <li><a href="./index.html">Mêchoc </a></li>
                </ul>
            </div>
            <div class="col-lg-4 col-sm-12 footer_element">
                <h5 style="text-align: right; margin-right: 50px;">
                    CHÍNH SÁCH
                </h5>
                <ul style="margin-right: 50px; text-align: right;">
                    <li><a href="#">Chính Sách Bảo Hành</a></li>
                    <li><a href="#">Chính Sách Đổi Trả</a></li>
                    <li><a href="#">Tư Vấn Khách Hàng</a></li>
                    <img src="../images/nama choco/f18ede3b-c334-4de0-a953-8113298562f8.jpg" class="w-50">
                </ul>
            </div>
            <div class="col-lg-12 col-xs-12">

            </div>
        </div>
    </footer>

    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/data/product.js"></script>
    <script>
        $(document).ready(function() {
            const productList = $('#product-list');

            // Hàm hiển thị toàn bộ sản phẩm
            function displayAllProducts() {
                productList.empty();
                products.forEach(product => {
                    const formattedPrice = product.price.toLocaleString('vi-VN');
                    const productHTML = `
                <div class="col-lg-3 col-xs-12">
                    <div class="option_Category">
                        <img src="${product.image}" alt="${product.name}">
                        <div class="option_Category_text">
                            <p>
                                <a href="../html/chitiet.html" class="product-link" data-product='${JSON.stringify(product)}'>${product.name}</a>
                            </p>
                            <p><strong>${formattedPrice} VND</strong></p>
                        </div>
                    </div>
                </div>
            `;
                    productList.append(productHTML);
                });
            }

            // Hàm hiển thị sản phẩm theo loại
            function displayProductsByType(type) {
                productList.empty();
                const filteredProducts = products.filter(product => product.loai === type); // Lọc sản phẩm theo loại
                filteredProducts.forEach(product => {
                    const formattedPrice = product.price.toLocaleString('vi-VN');
                    const productHTML = `
                <div class="col-lg-3 col-xs-12">
                    <div class="option_Category">
                        <img src="${product.image}" alt="${product.name}">
                        <div class="option_Category_text">
                            <p>
                                <a href="../html/chitiet.html" class="product-link" data-product='${JSON.stringify(product)}'>${product.name}</a>
                            </p>
                            <p><strong>${formattedPrice} VND</strong></p>
                        </div>
                    </div>
                </div>
            `;
                    productList.append(productHTML);
                });

                // Nếu không có sản phẩm nào, hiển thị thông báo
                if (filteredProducts.length === 0) {
                    productList.append('<p class="text-center">Không có sản phẩm.</p>');
                }
            }

            // Gọi hàm hiển thị sản phẩm khi nhấn vào từng loại
            $('#nama-chocolate').on('click', function() {
                displayProductsByType('socolaThanh');
            });

            $('#cacao-products').on('click', function() {
                displayProductsByType('botCacao');
            });

            $('#cookies').on('click', function() {
                displayProductsByType('cookie');
            });

            // Mặc định hiển thị toàn bộ sản phẩm khi load trang
            displayAllProducts();

            // Lưu thông tin sản phẩm vào localStorage khi nhấn vào tên sản phẩm
            $(document).on('click', '.product-link', function(e) {
                e.preventDefault(); // Ngăn điều hướng mặc định

                // Lấy thông tin sản phẩm từ thuộc tính `data-product`
                const productData = $(this).data('product');

                // Lưu thông tin sản phẩm vào localStorage
                localStorage.setItem('selectedProduct', JSON.stringify(productData));

                // Điều hướng sang trang chi tiết
                window.location.href = '../html/chitiet.html';
            });
        });
    </script>


</body>

</html>