<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thế Giới Nước Hoa</title>
    <link rel="icon" href="../images/logo/a.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .banner_category {
            font-size: 25px;
            margin-top: 20px;
            text-transform: none;
        }
        
        .detail h1 {
            font-size: 23px;
            font-weight: bold;
            line-height: 28px;
            margin-top: 15px;
            margin-bottom: 15px;
            font-family: Arial, Helvetica, sans-serif;
            color: #333;
        }
        
        .detail p {
            color: #333;
            text-align: justify;
            line-height: 20px;
            margin-top: 20px;
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        .text-banner:hover {
            color: #333;
        }
        
        button.btn a {
            color: white;
            list-style: none;
            text-decoration: none;
        }
    </style>

    <body>
        <header>
            <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-menu">
                <div class="container-fluid">
                    <div class="row nav_container">
                        <div class="col-sm-2 d-block d-sm-none">
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                        </div>
                        <div class="col-lg-7 col-sm-12 col-xs-12">
                            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                <ul class="navbar-nav">
                                    <li class="nav-item">
                                        <a class="nav-link menu-item" href="../html/index.html" data-bs-toggle="">Trang Chủ</a>

                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link menu-item" href="./nuochoa.html" data-bs-toggle="dropdown">NƯỚC HOA</a>
                                        <ul class="dropdown-menu sub-menu">
                                            <li><a class="dropdown-item" href="./nuochoa.html" data-gender="Nữ">NƯỚC HOA NỮ</a></li>
                                            <li><a class="dropdown-item" href="./nuochoa.html" data-gender="Nam">NƯỚC HOA NAM</a></li>
                                        </ul>
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link menu-item" href="./flashsale.html" data-bs-toggle="dropdown">FLASH SALE</a>
                                        <ul class="dropdown-menu sub-menu">
                                            <li><a class="dropdown-item" href="./flashsale.html" data-gender="Nữ">NƯỚC HOA NỮ</a></li>
                                            <li><a class="dropdown-item" href="./flashsale.html" data-gender="Nam">NƯỚC HOA NAM</a></li>
                                        </ul>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link menu-item" href="../html/gioithieu.html">GIỚI THIỆU</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-5 col-sm-12 menu_right">
                            <ul class="navbar-nav" style="float: right;">
                                <li class="nav-item dropdown">
                                    <a class="nav-link menu-item" href="./dangkithanhvien.html" data-bs-toggle="dropdown">TÀI KHOẢN</a>
                                    <ul class="dropdown-menu sub-menu">
                                        <li><a class="dropdown-item" href="../html/dangkithanhvien.html">Đăng Ký</a></li>
                                        <li><a class="dropdown-item" href="../html/dangnhap.html">Đăng Nhập</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item dropdown item_menu_right">
                                    <a class="nav-link menu-item" href="./giohang.html"><i class="material-icons">shopping_cart</i></a>
                                </li>
                                <li class="nav-item dropdown item_menu_right">
                                    <form action="./timkiem.html" id="Search">
                                        <input type="search" placeholder="Tìm kiếm loại nước hoa yêu thích của bạn">
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <div class="container" style="margin-top: 5%;padding-top: 20px;">
            <div><i style="font-weight: bold;">Trang Chủ / Thế Giới Nước Hoa</i></div>
            <section style="clear: both;">
                <div class="row">
                    <div class="col-12 banner_category">
                        <div class="text-banner">
                            Thế Giới Nước Hoa
                        </div>
                    </div>
                    <div class="col-lg-7 col-sm-12" style="padding-top: 50px;">
                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <img id="product-image" src="" alt="Hình ảnh sản phẩm">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-5 col-sm-12">
                        <!-- Tên sản phẩm -->
                        <h1 id="product-name"></h1>

                        <!-- Giá sản phẩm -->
                        <p style="font-size: 25px; text-align: left; margin-left: 25px;">
                            <strong id="original-price" style="color: rgb(148, 46, 46);"></strong>
                        </p>

                        <!-- Độ lưu hương và phong cách -->
                        <ul class="parameter">
                            <li><span><b>Độ lưu hương:</b></span> <span id="product-luu-huong"></span></li>
                            <li><span><b>Phong cách:</b></span> <span id="product-phong-cach"></span></li>
                        </ul>

                        <button class="btn btn-primary" style="margin-top: 20px; margin-bottom: 20px; margin-left: 30px; background-color: rgb(59, 56, 56); color: white; border: rgb(59, 56, 56);" onclick="addToCart()">
                            <a href="../html/giohang.html" style="color: white; text-decoration: none;">MUA NGAY</a>
                        </button>

                    </div>


                </div>

            </section>

        </div>

        <div style="clear: both;"></div>
        <footer>
            <div class="row">
                <div class="col-lg-4 col-sm-12 footer_element">
                    <h5 style="margin-left: 50px;">
                        THÔNG TIN LIÊN HỆ
                    </h5>
                    <p style="margin-left: 50px; width: 500px;">
                        phamthihanhnhibeo2902@gmail.com
                        <br> 0976428493
                        <br> PHẠM THỊ HẠNH NHI
                        <br> BÙI THU THẢO
                        <br> Hệ Thống Và Công Nghệ Web
                    </p>
                </div>
                <div class="col-lg-4 col-sm-12 footer_element">
                    <h5 style="margin-left: -35px; text-align: center;">
                        LIÊN KẾT
                    </h5>
                    <ul style="margin-left: -80px; text-align: center;">
                        <li><a href="./gioithieu.html">Giới Thiệu</a></li>
                        <li><a href="#">Nước Hoa Chính Hãng </a></li>
                        <li><a href="#">Sản Phẩm Khác</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-sm-12 footer_element">
                    <h5 style="text-align: right; margin-right: 50px;">
                        CHÍNH SÁCH
                    </h5>
                    <ul style="margin-right: 50px; text-align: right;">
                        <li><a href="#">Chính Sách Bảo Hành</a></li>
                        <li><a href="#">Chính Sách Đổi Trả</a></li>
                        <li><a href="#">Tư Vấn Khách Hàng</a></li>
                    </ul>
                </div>
                <div class="col-lg-12 col-xs-12">
                    <p style="text-align: center;color: rgb(241, 237, 237); margin-left: 10px;">
                        &copy;2024. Thế Giới Nước Hoa - 111 Đặng Thùy Trâm, Phường 13, Quận Bình Thạnh, Tp.HCM
                    </p>
                </div>
            </div>
        </footer>
    </body>
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            // Lấy dữ liệu sản phẩm từ localStorage
            const productData = JSON.parse(localStorage.getItem('selectedProduct'));

            if (productData) {
                // Gán tên sản phẩm
                $('#product-name').text(productData.name);

                // Gán hình ảnh sản phẩm
                $('#product-image').attr('src', productData.image);

                // Gán giá gốc và giá sau giảm
                $('#original-price').text(productData.price.toLocaleString('vi-VN')+" " + "VND"); // Giá gốc

                // Gán độ lưu hương
                $('#product-luu-huong').text(productData.luuHuong);

                // Gán phong cách
                $('#product-phong-cach').text(productData.phongcach);
            }
        });

        // Hàm thêm sản phẩm vào giỏ hàng
        function addToCart() {
            // Lấy dữ liệu sản phẩm từ localStorage
            const productData = JSON.parse(localStorage.getItem('selectedProduct'));

            if (productData) {
                // Lấy giỏ hàng từ localStorage (nếu chưa có thì tạo mảng rỗng)
                let cart = JSON.parse(localStorage.getItem('cart')) || [];

                // Kiểm tra xem sản phẩm đã có trong giỏ hàng chưa
                const existingProduct = cart.find(product => product.id === productData.id);

                if (existingProduct) {
                    // Nếu sản phẩm đã có, tăng số lượng lên
                    existingProduct.quantity += 1;
                } else {
                    // Nếu chưa có, thêm sản phẩm mới với số lượng ban đầu là 1
                    productData.quantity = 1;
                    cart.push(productData);
                }

                // Lưu lại giỏ hàng vào localStorage
                localStorage.setItem('cart', JSON.stringify(cart));
            }
        }
        // Hàm hiển thị gợi ý khi nhập vào ô tìm kiếm
        searchInput.on('input', function() {
            const query = $(this).val().toLowerCase();
            suggestionsList.empty();

            if (query) {
                const matchedProducts = products.filter(product => product.name.toLowerCase().includes(query));
                matchedProducts.forEach(product => {
                    const suggestionItem = `<div class="suggestion-item">${product.name}</div>`;
                    suggestionsList.append(suggestionItem);
                });

                // Bắt sự kiện click vào gợi ý để chuyển hướng đến trang chi tiết sản phẩm
                $('.suggestion-item').on('click', function() {
                    const selectedProduct = products.find(product => product.name === $(this).text());
                    localStorage.setItem('selectedProduct', JSON.stringify(selectedProduct));
                    window.location.href = selectedProduct.link;
                });
            }
        });
    </script>

</html>